<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Costs Dashboard ‚Äî Bond</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #8892b0;
            margin-top: 10px;
        }
        
        .last-updated {
            color: #64748b;
            font-size: 0.85rem;
            margin-top: 5px;
        }
        
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .anthropic .card-icon { background: linear-gradient(135deg, #d97706, #f59e0b); }
        .gemini .card-icon { background: linear-gradient(135deg, #4285f4, #34a853); }
        .ollama .card-icon { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
        
        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .card-provider {
            color: #8892b0;
            font-size: 0.85rem;
        }
        
        .card-amount {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 16px 0;
        }
        
        .anthropic .card-amount { color: #f59e0b; }
        .gemini .card-amount { color: #4285f4; }
        .ollama .card-amount { color: #22c55e; }
        
        .card-details {
            color: #8892b0;
            font-size: 0.9rem;
        }
        
        .card-details span {
            color: #fff;
            font-weight: 500;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 16px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .gemini .progress-fill { background: linear-gradient(90deg, #4285f4, #34a853); }
        
        .charts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .chart-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chart-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #e2e8f0;
        }
        
        .summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .summary h2 {
            margin-bottom: 20px;
            color: #e2e8f0;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .summary-item {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }
        
        .summary-value {
            font-size: 2rem;
            font-weight: 700;
            color: #00d4ff;
        }
        
        .summary-label {
            color: #8892b0;
            margin-top: 8px;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge-free { background: #22c55e33; color: #22c55e; }
        .badge-credit { background: #4285f433; color: #4285f4; }
        .badge-paid { background: #f59e0b33; color: #f59e0b; }

        footer {
            text-align: center;
            margin-top: 40px;
            color: #64748b;
            font-size: 0.85rem;
        }

        @media (max-width: 600px) {
            .charts {
                grid-template-columns: 1fr;
            }
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ API Costs Dashboard</h1>
            <p class="subtitle">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ AI-—Å–µ—Ä–≤–∏—Å—ã</p>
            <p class="last-updated">–û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="lastUpdated"></span></p>
        </header>

        <div class="cards">
            <!-- Anthropic -->
            <div class="card anthropic">
                <div class="card-header">
                    <div class="card-icon">üß†</div>
                    <div>
                        <div class="card-title">Anthropic Claude</div>
                        <div class="card-provider">API / claude.ai</div>
                    </div>
                    <span class="badge badge-paid">Paid</span>
                </div>
                <div class="card-amount">$<span id="anthropicCost">0.00</span></div>
                <div class="card-details">
                    –ú–æ–¥–µ–ª—å: <span>Claude Opus 4.5</span><br>
                    –¢–æ–∫–µ–Ω–æ–≤: <span id="anthropicTokens">‚Äî</span>
                </div>
            </div>

            <!-- Gemini -->
            <div class="card gemini">
                <div class="card-header">
                    <div class="card-icon">‚ú®</div>
                    <div>
                        <div class="card-title">Google Gemini</div>
                        <div class="card-provider">API Credits</div>
                    </div>
                    <span class="badge badge-credit">Credit</span>
                </div>
                <div class="card-amount">$<span id="geminiUsed">0.00</span></div>
                <div class="card-details">
                    –ö—Ä–µ–¥–∏—Ç: <span>$300</span> –¥–æ <span>–ú–∞–π 2026</span><br>
                    –û—Å—Ç–∞–ª–æ—Å—å: <span id="geminiRemaining">$300.00</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="geminiProgress" style="width: 0%"></div>
                </div>
            </div>

            <!-- Ollama -->
            <div class="card ollama">
                <div class="card-header">
                    <div class="card-icon">ü¶ô</div>
                    <div>
                        <div class="card-title">Ollama</div>
                        <div class="card-provider">Local (Mac mini)</div>
                    </div>
                    <span class="badge badge-free">Free</span>
                </div>
                <div class="card-amount">$0.00</div>
                <div class="card-details">
                    –ú–æ–¥–µ–ª—å: <span>llama3.2:3b</span><br>
                    –°—Ç–∞—Ç—É—Å: <span id="ollamaStatus">–õ–æ–∫–∞–ª—å–Ω—ã–π</span>
                </div>
            </div>
        </div>

        <div class="charts">
            <div class="chart-card">
                <h3 class="chart-title">üìä –†–∞—Å—Ö–æ–¥—ã –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º</h3>
                <canvas id="providerChart"></canvas>
            </div>
            <div class="chart-card">
                <h3 class="chart-title">üìà –†–∞—Å—Ö–æ–¥—ã –ø–æ –º–µ—Å—è—Ü–∞–º</h3>
                <canvas id="monthlyChart"></canvas>
            </div>
        </div>

        <div class="summary">
            <h2>üìã –°–≤–æ–¥–∫–∞</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-value" id="totalSpent">$0.00</div>
                    <div class="summary-label">–í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="creditsRemaining">$300</div>
                    <div class="summary-label">–î–æ—Å—Ç—É–ø–Ω—ã–π –∫—Ä–µ–¥–∏—Ç</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value" id="savedWithLocal">$0</div>
                    <div class="summary-label">–°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ (Ollama)</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value">3</div>
                    <div class="summary-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤</div>
                </div>
            </div>
        </div>

        <footer>
            <p>Bond AI Assistant ‚Ä¢ Dashboard v1.0</p>
            <p>–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ</p>
        </footer>
    </div>

    <script>
        // ============================================
        // üìù –î–ê–ù–ù–´–ï ‚Äî –û–ë–ù–û–í–õ–Ø–ô –ó–î–ï–°–¨
        // ============================================
        const data = {
            anthropic: {
                totalCost: 45.67,  // –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –≤ $
                tokens: 2_340_000,  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤
                monthlyData: [12.5, 15.2, 17.97]  // –†–∞—Å—Ö–æ–¥—ã –ø–æ –º–µ—Å—è—Ü–∞–º
            },
            gemini: {
                usedCredit: 0,     // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∏–∑ $300 –∫—Ä–µ–¥–∏—Ç–∞
                creditTotal: 300,  // –í—Å–µ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞
                expiryDate: '2026-05-01'
            },
            ollama: {
                estimatedSavings: 28.50,  // –°–∫–æ–ª—å–∫–æ —Å—ç–∫–æ–Ω–æ–º–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–∫–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
                requestsCount: 1420       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
            },
            // –î–∞–Ω–Ω—ã–µ –ø–æ –º–µ—Å—è—Ü–∞–º –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
            months: ['–î–µ–∫ 2025', '–Ø–Ω–≤ 2026', '–§–µ–≤ 2026']
        };
        // ============================================

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        document.getElementById('lastUpdated').textContent = new Date().toLocaleDateString('ru-RU', {
            day: 'numeric',
            month: 'long',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });

        // Anthropic
        document.getElementById('anthropicCost').textContent = data.anthropic.totalCost.toFixed(2);
        document.getElementById('anthropicTokens').textContent = 
            (data.anthropic.tokens / 1_000_000).toFixed(2) + 'M';

        // Gemini
        document.getElementById('geminiUsed').textContent = data.gemini.usedCredit.toFixed(2);
        document.getElementById('geminiRemaining').textContent = 
            '$' + (data.gemini.creditTotal - data.gemini.usedCredit).toFixed(2);
        document.getElementById('geminiProgress').style.width = 
            (data.gemini.usedCredit / data.gemini.creditTotal * 100) + '%';

        // Summary
        const totalSpent = data.anthropic.totalCost + data.gemini.usedCredit;
        document.getElementById('totalSpent').textContent = '$' + totalSpent.toFixed(2);
        document.getElementById('creditsRemaining').textContent = 
            '$' + (data.gemini.creditTotal - data.gemini.usedCredit).toFixed(0);
        document.getElementById('savedWithLocal').textContent = 
            '$' + data.ollama.estimatedSavings.toFixed(0);

        // –ì—Ä–∞—Ñ–∏–∫–∏
        const chartColors = {
            anthropic: '#f59e0b',
            gemini: '#4285f4',
            ollama: '#22c55e'
        };

        // Donut chart ‚Äî –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
        new Chart(document.getElementById('providerChart'), {
            type: 'doughnut',
            data: {
                labels: ['Anthropic', 'Gemini (credit)', 'Ollama (free)'],
                datasets: [{
                    data: [data.anthropic.totalCost, data.gemini.usedCredit, 0],
                    backgroundColor: [chartColors.anthropic, chartColors.gemini, chartColors.ollama],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#e2e8f0', padding: 20 }
                    }
                },
                cutout: '60%'
            }
        });

        // Bar chart ‚Äî –ø–æ –º–µ—Å—è—Ü–∞–º
        new Chart(document.getElementById('monthlyChart'), {
            type: 'bar',
            data: {
                labels: data.months,
                datasets: [{
                    label: 'Anthropic',
                    data: data.anthropic.monthlyData,
                    backgroundColor: chartColors.anthropic,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    x: {
                        grid: { display: false },
                        ticks: { color: '#8892b0' }
                    },
                    y: {
                        grid: { color: 'rgba(255,255,255,0.1)' },
                        ticks: { 
                            color: '#8892b0',
                            callback: value => '$' + value
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
